{"ts":1363876879573,"silentsave":true,"restoring":false,"patch":[[]],"length":0}
{"contributors":[],"silentsave":false,"ts":1363877013135,"patch":[[{"diffs":[[1,"var express = require('express'),\n    app = express.createServer().listen(process.env.port || 3000),\n    apiServer = require('./api/server'),\n    ejsMIddleware = require('ejs-middleware');\n    \napp.use('/api', apiServer); // Mount the HTTP API on the URL space /api"]],"start1":0,"start2":0,"length1":0,"length2":265}]],"length":265,"saved":false}
{"ts":1363877141985,"patch":[[{"diffs":[[0,"env."],[-1,"port || 3000"],[1,"PORT, process.env.IP"],[0,"),\n "]],"start1":82,"start2":82,"length1":20,"length2":28}]],"length":273,"saved":false}
{"ts":1363878467194,"patch":[[{"diffs":[[0,"L space /api"],[1,"\n\napp.use(function (req, res, next) {\n    setTimeout(next, 4000)});\n});\n\napp.use(ejsMIddleware(__dirname + '/static', 'html', app)); // Serve /html files via EJS renderer\n\napp.use(express.static(__dirname + '/static')); // For other requests, just serve /static\n\n// Enable socket.io, making it part of the /api/* space\nvar io = require('socket.io').listen(app);\nio.configure(function() {\n    // Configure socket.io\n    io.set('resource', '/api/socket.io');\n    io.set('transports', ['xhr-polling']);\n    io.set('polling duration', 10);\n    \n    io.sockets.on('connection', function (socket) {\n        // Keep track of which invitation each client is looking at\n        var interestedInInvitationId;\n        socket.on('registerInterest', function (data) { interestedInInvitationId = data; });\n        \n        apiServer.on('invitationUpdate', function (item) {\n            // Only send updates to the client if they care about it\n            if (item.id === interestedInInvitationId) {\n                socket.emit('invitationUpdate', item);\n            }\n        });\n    });\n});"]],"start1":261,"start2":261,"length1":12,"length2":1089}]],"length":1350,"saved":false}
{"contributors":[],"silentsave":false,"ts":1363878771941,"patch":[[{"diffs":[[0,"t, 4000)"],[-1,"})"],[0,";\n});\n\na"]],"start1":329,"start2":329,"length1":18,"length2":16}]],"length":1348,"saved":false}
